<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Juste pour l'icone ECLAIR dans le button Sauvegarder -->
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <script src="{{ url_for('static', filename='form.js') }}" defer></script>
    <title>Vulnerability Tracker</title>
</head>
<body>

    <div class="header">
        <h1 class="title">Vulnerability Tracker</h1>
        <h2 class="identity">By <a class="github" href="https://github.com/vrakoto" target="_blank">RAKOTOARISOA Van</a></h2>
    </div>

    <h1 class="title">Vulnérabilités</h1>
    <table class="content">
        <thead>
            <tr id="title">
                <th>
                    <h1>Vulnérabilité</h1>
                </th>
                <th>
                    <h1>Impact</h1>
                </th>
                <th>
                    <h1>Exploitation</h1>
                </th>
                <th>
                    <h1>Risque</h1>
                </th>
            </tr>
        </thead>
        <tbody id="value">
            {% for v in vulnerabilities %} <!-- Décompose le tableau envoyé par le controller / (defaut) de Python -->
            <tr id="value">
                <td>{{v[0]}}</td> <!-- Correspond au titre -->
                <td>{{v[1]}}</td> <!-- Correspond à l'impact -->
                <td>{{v[2]}}</td> <!-- Correspond à l'exploitation -->
                <td>{{v[3]}}</td> <!-- Correspond au risque -->
            </tr>
            {% endfor %}
        </tbody>
    </table>


    <h1 class="title">Nouvelle vulnérabilité</h1>

    <!-- Saisie d'une nouvelle vulnérabilitée -->
    <div class="container_vuln">
        <div class="input-wrapper">
            <input name="titre" type="text" id="titre">
            <label for="titre">Titre</label>
        </div>

        <div class="input-wrapper">
            <h3>Impact</h3>
            <div class="select">
                <select name="impact" id="impact">
                    <option value="none" selected disabled>Impact</option>
                    <option value="Mineur">Mineur</option>
                    <option value="Important">Important</option>
                    <option value="Majeur">Majeur</option>
                    <option value="Critique">Critique</option>
                </select>
            </div>
        </div>

        <div class="input-wrapper">
            <h3>Exploitation</h3>
            <div class="select">
                <select name="exploitation" id="exploitation">
                    <option value="none" selected disabled>Exploitation</option>
                    <option value="Facile">Facile</option>
                    <option value="Modérée">Modérée</option>
                    <option value="Elevée">Elevée</option>
                    <option value="Difficile">Difficile</option>
                </select>
            </div>
        </div>
    </div>

    <button class="btn btn--bolt" onclick="postVulnerability()"> <!-- Enclenche le formulaire -->
        <span class="btn-icon"><i class="fa fa-bolt fa-3x"></i></span>
        <span class="btn-content">Sauvegarder</span>
    </button>

    <footer>
        <h2>Version 1.1.0 FLASK | Rendu le 07/11/2021</h2>
    </footer>
</body>
</html>